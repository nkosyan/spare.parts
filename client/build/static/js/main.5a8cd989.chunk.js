(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{163:function(e,t,n){e.exports=n(336)},168:function(e,t,n){},335:function(e,t,n){},336:function(e,t,n){"use strict";n.r(t);var a=n(1),i=n.n(a),r=n(8),c=n.n(r),o=(n(168),n(112)),l=n(80),d=n(161),u=n(105),s=n(106),m=n(110),f=n(107),h=n(111),p="\u0531\u0576\u057e\u0561\u0576\u0578\u0582\u0574",y="\u053f\u0578\u0564",v="\u0556\u056b\u0580\u0574\u0561",b="\u053b\u0576\u0584\u0576\u0561\u0580\u056a\u0565\u0584",g="\u053d\u0561\u0576\u0578\u0582\u0569 \u0584\u0561\u0576\u0561\u056f",E="\u054a\u0561\u0570\u0565\u057d\u057f \u0584\u0561\u0576\u0561\u056f",I="\u0531\u057e\u0565\u056c\u0561\u0581\u0576\u0565\u056c",k=n(342),x=n(341),w=n(340),_=n(9),j=n(338),C=n(26),O=n(339),S=n(79),q=n.n(S),K=p,A=y,B=v,D=b,F=g,J=E,N=I,P=i.a.createContext(),T=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(m.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).getInput=function(){return"number"===n.props.inputType?i.a.createElement(k.a,null):i.a.createElement(x.a,null)},n.renderCell=function(e){var t=e.getFieldDecorator,a=n.props,r=a.editing,c=a.dataIndex,o=a.title,l=a.record,u=a.children,s=Object(d.a)(a,["editing","dataIndex","title","record","children"]);return i.a.createElement("td",s,r?i.a.createElement(w.a.Item,{style:{margin:0}},t(c,{rules:[{required:!0,message:"Please Input ".concat(o,"!")}],initialValue:l[c]})(n.getInput())):u)},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return i.a.createElement(P.Consumer,null,this.renderCell)}}]),t}(i.a.Component),W=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(m.a)(this,Object(f.a)(t).call(this,e))).isEditing=function(e){return e._id===n.state.editingKey},n.cancel=function(){n.setState({editingKey:""})},n.state={data:[],editingKey:""},n.columns=[{title:K,dataIndex:"name",key:"name",width:"25%",editable:!0},{title:A,dataIndex:"code",key:"code",editable:!0},{title:B,dataIndex:"firm",key:"firm",editable:!0},{title:D,dataIndex:"cost",key:"cost",editable:!0},{title:F,dataIndex:"shop_qty",key:"shop_qty",width:"15%",editable:!0},{title:J,dataIndex:"store_qty",key:"store_qty",width:"15%",editable:!0},{dataIndex:"operation",render:function(e,t){var a=n.state.editingKey;return n.isEditing(t)?i.a.createElement("span",null,i.a.createElement(P.Consumer,null,function(e){return i.a.createElement("a",{href:"#",onClick:function(){return n.save(e,t._id)},style:{marginRight:8}},i.a.createElement(_.a,{type:"save"}))}),i.a.createElement(j.a,{title:"Sure to cancel?",onConfirm:function(){return n.cancel(t._id)}},i.a.createElement("a",null,"Cancel"))):i.a.createElement("span",null,i.a.createElement("a",{disabled:""!==a,onClick:function(){return n.edit(t._id)}},i.a.createElement(_.a,{type:"edit"})),i.a.createElement("a",{disabled:""!==a},i.a.createElement(j.a,{title:"Sure to delete?",onConfirm:function(){return n.delete(t._id)}},i.a.createElement(_.a,{type:"delete"}))))}}],n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;q.a.get("http://localhost:8080/api/products").then(function(t){var n=t.data.data;e.setState({data:n})}).catch(function(e){console.log(e)})}},{key:"save",value:function(e,t){var n=this;e.validateFields(function(e,a){if(!e){var i=Object(l.a)(n.state.data),r=i.findIndex(function(e){return t===e._id});if(r>-1){var c=Object(o.a)({},i[r],a),d=n;q.a.put("http://localhost:8080/api/products/".concat(t),c).then(function(e){var t=e.data.data;i.splice(r,1,t),d.setState({data:i,editingKey:""})}).catch(function(e){console.log(e)})}else i.push(a),n.setState({data:i,editingKey:""})}})}},{key:"add",value:function(){if(!(this.state.data.findIndex(function(e){return-1===e._id})>-1)){var e=[{_id:-1,name:"",code:"",firm:"",cost:"",store_qty:"",shop_qty:""}].concat(Object(l.a)(this.state.data));this.setState({data:e,editingKey:-1})}}},{key:"edit",value:function(e){this.setState({editingKey:e})}},{key:"delete",value:function(e){var t=this;q.a.delete("http://localhost:8080/api/products/".concat(e)).then(function(n){var a=Object(l.a)(t.state.data),i=a.findIndex(function(t){return e===t._id});i>-1&&(a.splice(i,1),t.setState({data:a}))}).catch(function(e){console.log(e)})}},{key:"render",value:function(){var e=this,t={body:{cell:T}},n=this.columns.map(function(t){return t.editable?Object(o.a)({},t,{onCell:function(n){return{record:n,inputType:"shop_qty"===t.dataIndex||"store_qty"===t.dataIndex?"number":"text",dataIndex:t.dataIndex,title:t.title,editing:e.isEditing(n)}}}):t});return i.a.createElement(P.Provider,{value:this.props.form},i.a.createElement(C.a,{onClick:function(){return e.add()}},N),i.a.createElement(O.a,{components:t,bordered:!0,dataSource:this.state.data,columns:n,rowClassName:"editable-row",pagination:{onChange:this.cancel}}))}}]),t}(i.a.Component),M=w.a.create()(W),R=function(){return i.a.createElement(M,null)};n(335);var V=function(){return i.a.createElement("div",{className:"App"},i.a.createElement(R,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(i.a.createElement(V,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[163,1,2]]]);
//# sourceMappingURL=main.5a8cd989.chunk.js.map